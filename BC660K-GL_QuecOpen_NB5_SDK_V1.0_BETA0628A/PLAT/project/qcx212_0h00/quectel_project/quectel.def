######## This file is used to configure the switches and definitions for all QUECTEL macros ########


#===================================== FEATURE INFO ========================

#===================================== COMMON FEATURE ======================
AUTHORS_TEP = $(shell whoami)
result=$(subst \,,$(AUTHORS_TEP))
AUTHORS=$(result)

QUECTEL_SUB_TAGRET ?= APP
QUECTEL_PROJECT_MACRO = y
ifneq ($(QUECTEL_SUB_TAGRET),BL)
QUECTEL_COMMON_API_SUPPORT ?= y
QUECTEL_COMMON_AT_SUPPORT ?= y
QUECTEL_AT_SUPPORT ?= y
QUECTEL_AT_VERSION ?= y
QUECTEL_GPIO_CONFIG ?= y
QUECTEL_AT_COMMON ?= y
QUECTEL_PLATFORM_SUPPORT ?= y
QUECTEL_URC_SUPPORT ?= y
QUECTEL_TCPIP_SUPPORT ?= y
QUECTEL_LWM2M_SUPPORT ?= n
QUECTEL_FOTA_SUPPORT ?= y
QUECTEL_MQTT_SUPPORT ?= y
__QUECTEL_UFS_FILE__ ?= y
QUECTEL_OPENCPU_SUPPORT ?= y
QUECTEL_OPENCPU_TCPIP ?= n
QUECTEL_ANTI_COPY_SUPPORT ?= n
QUECTEL_NETLIGHT_DRIVER ?= y
#[quinten][20200129]for control quectel modified
QUECTEL_QC_LWM2M_SUPPORT ?= y
QUECTEL_ATT_LWM2M_CERT_SUPPORT ?= y
endif

QUECTEL_SW_SVN_VERSION_LOG = "0$(QUECTEL_SW_SVN_VERSION)"

ifeq "$(strip ${QUECTEL_AT_SUPPORT})" "y"
	GLOBAL_EXPORT_FLAG += QUECTEL_AT_SUPPORT	# add for open lwip h file
	GLOBAL_EXPORT_FLAG += QUECTEL_PLATFORM
	GLOBAL_EXPORT_FLAG += QUECTEL_AT_COMMON
	GLOBAL_EXPORT_FLAG += QUECTEL_AT_VERSION
    GLOBAL_EXPORT_FLAG += QUECTEL_PROJECT_NAME
    GLOBAL_EXPORT_FLAG += QUECTEL_MODULE_VERSION
    GLOBAL_EXPORT_FLAG += QUECTEL_SW_VERSION
	GLOBAL_EXPORT_FLAG += QUECTEL_SW_AP_SUB_VERSION
    GLOBAL_EXPORT_FLAG += QUECTEL_SW_SUB_VERSION
    GLOBAL_EXPORT_FLAG += QUECTEL_SW_SVN_VERSION
	GLOBAL_EXPORT_FLAG += QUECTEL_SW_SVN_VERSION_LOG
    GLOBAL_EXPORT_FLAG += QUECTEL_SW_APP_VERSION
	GLOBAL_EXPORT_FLAG += AUTHORS #get the authors
	GLOBAL_EXPORT_FLAG += __QUECTEL_AT_COMMON__
	GLOBAL_EXPORT_FLAG += __QUECTEL_GPIO_CONFIG__
    GLOBAL_EXPORT_FLAG += __QUECTEL_URC_LIST__
    GLOBAL_EXPORT_FLAG += __QUECTEL_QTEST_FS__
    GLOBAL_EXPORT_FLAG += QUECTEL_BACKUP_RESTORE_SUPPORT
    GLOBAL_EXPORT_FLAG += QUECTEL_URC_SUPPORT
ifeq "$(strip ${QUECTEL_PLATFORM_SUPPORT})" "y"
	GLOBAL_EXPORT_FLAG += QUECTEL_PLATFORM_SUPPORT
endif

ifeq "$(strip ${QUECTEL_NETLIGHT_DRIVER})" "y"
	GLOBAL_EXPORT_FLAG += QUECTEL_NETLIGHT_DRIVER
endif

ifeq "$(strip ${__QUECTEL_UFS_FILE__})" "y"
    GLOBAL_EXPORT_FLAG += __QUECTEL_UFS_FILE__
endif
    #GLOBAL_EXPORT_FLAG += QUECTEL_LWM2M_SUPPORT
endif

ifeq ($(QUECTEL_URC_SUPPORT), y)
CFLAGS += -DQUECTEL_URC_SUPPORT
endif

ifeq ($(QUECTEL_QC_LWM2M_SUPPORT), y)
GLOBAL_EXPORT_FLAG += QUECTEL_QC_LWM2M_SUPPORT
GLOBAL_EXPORT_FLAG += QUECTEL_VZW_OUT_BAND_DFOTA_SUPPORT
GLOBAL_EXPORT_FLAG += HTTPS_WITH_CA
GLOBAL_EXPORT_FLAG += QUECTEL_HTTPS_SERVER_WITHOUT_MFL
endif

ifeq ($(QUECTEL_ATT_LWM2M_CERT_SUPPORT), y)
GLOBAL_EXPORT_FLAG += QUECTEL_ATT_LWM2M_CERT_SUPPORT
GLOBAL_EXPORT_FLAG += QUECTEL_PORTFOLIO_OBJ_SUPPORT
GLOBAL_EXPORT_FLAG += QUECTEL_CONN_EXT_OBJ_SUPPORT
endif

ifeq ($(QUECTEL_FOTA_SUPPORT), y)
GLOBAL_EXPORT_FLAG += QUECTEL_FOTA_URL_BIN_INFO_DEBUG
endif

#===================================== PROJECT SPECIFIC FEATURE ========================
#Project BC660K-GL
ifeq "$(strip ${QUECTEL_PROJECT_NAME})" "BC660K-GL"
    GLOBAL_EXPORT_FLAG += __QUECTEL_PROJECT_BC660KGL__

endif


#===================================== SUB FEATURE DEFINITION ======================
ifeq "$(strip ${QUECTEL_LWM2M_SUPPORT})" "y"
	GLOBAL_EXPORT_FLAG += QUEC_ADAPTER_LWM2M_ANDLINK_SUPPORT
	GLOBAL_EXPORT_FLAG += QUEC_ADAPTER_LWM2M_AEP_SUPPORT
	GLOBAL_EXPORT_FLAG += QUECTEL_ADAPTER_LWM2M_CONFIG_RETRANSMIT_PARAMS_SUPPORT
	GLOBAL_EXPORT_FLAG += QUEC_ADAPTER_LWM2M_WITH_DTLS_SUPPORT
endif

ifeq "$(strip ${QUECTEL_CT_CERT_VERSION})" "y"
	GLOBAL_EXPORT_FLAG += __QUECTEL_CT_CERT_VERSION__
endif

ifeq "$(strip ${QUECTEL_OPENCPU_SUPPORT})" "y"
	GLOBAL_EXPORT_FLAG += __QUECTEL_BUILD_OPENCPU_LIB__
	GLOBAL_EXPORT_FLAG += QUECTEL_SDK_SW_VERSION
	GLOBAL_EXPORT_FLAG += QUECTEL_SDK_SW_VERSION_EXT
ifeq "$(strip ${BUILD_CREATE_OCPU_PREBUILD_LIB})" "y"
	GLOBAL_EXPORT_FLAG += __QUECTEL_OPENCPU_SUPPORT__
ifeq "$(strip ${QUECTEL_OPENCPU_TCPIP})" "y"
	GLOBAL_EXPORT_FLAG += __QUECTEL_OPENCPU_TCPIP__
endif
endif	
endif

ifeq "$(strip ${QUECTEL_TCPIP_SUPPORT})" "y"
	GLOBAL_EXPORT_FLAG += QUECTEL_TCPIP_SUPPORT # add for open lwip h file
endif

ifeq "$(strip ${QUECTEL_MQTT_SUPPORT})" "y"
	GLOBAL_EXPORT_FLAG += __QUECTEL_MQTT_SUPPORT__
	GLOBAL_EXPORT_FLAG += __QUECTEL_ALICLOUD_AUTH_SUPPORT__
	GLOBAL_EXPORT_FLAG += __QUECTEL_AZURE_SUPPORT__
endif

#===================================== END  =====================================
